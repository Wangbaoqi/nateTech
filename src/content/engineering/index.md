---
title: 前端工程化一览
---

<Intro>

前端工程化的主要目标是**解放生产力、提高生产效率** 。 通过制定 **一系列的规范，借助工具和框架解决前端开发以及前后端协作开发过程中的痛点和难点问题** 。

</Intro>


在短短的20年的时间，前端发展如此之快，可以查阅[前端发展史 - 司徒正美](https://zhuanlan.zhihu.com/p/68030183)，正是鉴于发展速度，前端工程化才不可或缺。


## 衡量标准 {/*衡量标准*/}

衡量前端工程化的标准主要可以归纳为 **快、准、稳**。

**1. 开发角度 - 快**

开发速度是Web产品迭代中最迫切提升，也是整个团队（产品、项目经理以及测试等）之间解决矛盾的润滑剂。
工程化核心目标之一就是保证质量的前提下，能够快速的迭代开发。

**2. 测试角度 - 快、准**

测试阶段的快是基于前端工程化的单元测试，在测试集成测试之前，前后端分别进行单元测试之后，可以降低大部分的简单逻辑错误，这样后面可以减少集成测试的时间。

测试阶段的准是在集成测试阶段，可以准确的定位到问题，通过严格的责任制度，可以明确问题的负责人，从而得到快速的解决。

**3. 部署角度 - 稳**

部署是一个完成迭代周期的最终阶段，经历了漫长的开发和测试，终于可以部署上线了。不过部署并不是直接发不上线，还要考虑客户端缓存是否影响新版展示，考虑到版本回退以及灰度等等。所以要稳定的展示新版本，部署也是关键的一环。


## 进化历程 {/*进化历程*/}

1. 混沌形态

在早期时候，**前端写demo，后端写逻辑、套模板**开发模式称之为“混沌形态”，这种状态下，前端工程师的产出除了CSS之外，还需后端重新处理模板。

2. 前后端分离形态

前端开发第一次进化的关键技术是**AJAX**，其不仅改变了Web的交互方式，也间接提高了用户对产品的需求。
在这种形态下，前端的逻辑变的越来越复杂，前端将逻辑(js)、样式(css)和页面结构(html)完成，但是动态资源和静态资源需要一同部署，则需要人工进行交付流程。

但是随着这种方式的开发，逐渐也暴露了以下问题：
- 不能使用最新的ECMAScript语法，浏览器不兼容
- CSS弱编程能力，不能使用LESS/SASS等预编译语法或者PostCSS自动处理hack，浏览器不支持，需要工具转换
- 静态资源的URL，本地是相对地址，上线前需改成真实绝对地址
- 考虑性能，上线前需要压缩JS、CSS、图片等资源，使用CSS Sprites，将小体积图片转换为Base64，这些都需要工具
- 不能进行性能分析以及依赖分析和合并打包，都需要借助工具实现
- 编写接口数据交互，依赖于接口的API完成进度
- 静态资源（js、css、图片）以及动态模板仍然跟后端项目存在同一个项目中，因此需要上线的资源仍需要服务端来部署

基于上述各种问题，前端工程化才逐步体现出来。

**第一步：加入构建**

构建是**将所有的工具的功能进行整合并统一为规范的工具栈**。

通过引入构建，可以解决上述存在问题：
- 最新ES语法，可以使用 **Babel**来转译
- CSS可以使用Less等编译工具进行预编译转译
- 使用r.js可以进行压缩打包，利用AMD/CommonJs等模块化开发

**第二步：加入本地开发服务器**

本地服务器也是一个真正意义上Web服务，应具备以下功能：
- 可选项 - 具备数据Mock服务
- 具备HTML模板解析功能
- 支持同构
- 动态构建，支持浏览器自动刷新

**第三步：静态资源和动态资源分离部署**

分离的目的是解耦前后端，在继承测试阶段，前端在修复完bug后需要重新部署，不能每一次都去麻烦服务端工程师。
前端改完直接发布静态资源，前提是测试静态资源服务器不设置缓存或者协商缓存，也无需设置URL版本号或者hash文件指纹，这样可以在发布之后可以立即获取最新文件。

随着SPA的发展，前端将所有有关页面展示的东西都放到前端来做，跟服务端的唯一交互就是接口API了。

## 3个阶段 {/*3个阶段*/}

工程化的三个阶段:

1. 本地工具链

前端工程化: 是一系列的工具和规范的组合，规范是标准，工具为实现。

规范又包含:
- 文件结构
- 开发范式
- 工具使用规范
- 环境的依赖

前端工程化的初级阶段是将各类工具的功能进行整合，为业务开发提供统一规范的工具栈，这种方式也可称之为本地工具链形态，其具有所有工程化的功能模块（构建、本地服务器、部署等）

**本地工具链解决的问题**
- 降低业务开发的学习、使用的成本
- 复杂功能交给工具链内部解决
- 工具链的统一、规范的统一

2. 管理平台

本地工具链解决了本地环境开发以及前后端开发的一些痛点问题，但是在不同的环境下，也具有一些差异性（操作系统、版本、内核等），这些因素会一定程度影响构建产出代码的一致性。

除此之外，在部署阶段，因具有一定的权限功能，部署功能的可用性就会降低。

因此，集中管理的云平台由此而生，具有以下特点：
- 淡化环境之间的差异性，保证构建的产物的一致性
- 权限集中管理，提高安全性
- 项目版本集中管理

3. 持续集成


## 工程化体系脑图 {/*工程化体系脑图*/}

![engineering roadMap](https://media.wangbaoqi.tech/assets/blog/engineering/roadmap.png)


